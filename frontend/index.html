    <!DOCTYPE html>
    <html lang="pt-BR">
    <head>
    <meta charset="UTF-8" />
    <title>Importação de PDF</title>
    <link rel="stylesheet" href="css/global.css">
    <link rel="stylesheet" href="css/modal_edit.css">
    </head>
    <body>

        <div class="container">
            <div class="header">
                <div>
                <h1>Importação de PDF</h1>
                <p class="sub">Envie um PDF, revise os dados e exporte para Excel.</p>
                </div>

                <div class="row">
                <button class="btn" id="exportBtn">Exportar Excel</button>
                </div>
            </div>

            <div class="card">
                <div class="row">
                <input type="file" id="pdfInput" accept="application/pdf">
                <button class="btn btn-primary" id="uploadBtn">Enviar PDF</button>
                <!-- <span class="badge" id="statusBadge">Pronto</span> -->
                </div>
            </div>

            <div class="search-bar">
                <input
                    type="text"
                    id="searchInput"
                    placeholder="Buscar paciente pelo nome..."
                />

                  <select id="monthFilter">
                    <option value="">Todos os meses</option>
                    <option value="0">Janeiro</option>
                    <option value="1">Fevereiro</option>
                    <option value="2">Março</option>
                    <option value="3">Abril</option>
                    <option value="4">Maio</option>
                    <option value="5">Junho</option>
                    <option value="6">Julho</option>
                    <option value="7">Agosto</option>
                    <option value="8">Setembro</option>
                    <option value="9">Outubro</option>
                    <option value="10">Novembro</option>
                    <option value="11">Dezembro</option>
                  </select>
            </div>

            <div class="records-wrap">
                <div id="recordsContainer">
                    
                </div>
                <div class="empty" id="emptyState">Nenhum dado carregado ainda.</div>
            </div>

        </div>





 <!-- Modal de visualização do registro -->
<div class="modal-overlay" id="recordModal" style="display:none;">
  <div class="modal">

    <div class="modal-header">
      <h2 id="modalTitle">Detalhes do Registro</h2>
      <button onclick="closeModal()">✕</button>
    </div>

    <div class="modal-body">

      <section class="modal-section">
        <h3>Dados do Paciente</h3>
        <div class="grid">
          <div><strong>Nome:</strong> <span id="m_nome"></span></div>
          <div><strong>Local:</strong> <span id="m_local"></span></div>
          <div><strong>Material:</strong> <span id="m_material"></span></div>
          <div><strong>Microrganismo:</strong> <span id="m_micro"></span></div>
        </div>
      </section>

      <section class="modal-section">
        <h3>Datas</h3>
        <div class="grid">
          <div><strong>Admissão:</strong> <span id="m_admissao"></span></div>
          <div><strong>Coleta:</strong> <span id="m_coleta"></span></div>
          <div><strong>Encerramento:</strong> <span id="m_ence"></span></div>
          <div><strong>Inserido no Sistema:</strong> <span id="m_insert"></span></div>
        </div>
      </section>

      <section class="modal-section">
        <h3>Antibiograma</h3>
        <table class="antibiograma">
          <thead>
            <tr>
              <th>Antimicrobiano</th>
              <th>Resultado</th>
            </tr>
          </thead>
          <tbody id="antibiogramaBody"></tbody>
        </table>
      </section>

      <section class="modal-section">
        <h3>Observações</h3>
        <p id="m_obs">—</p>
      </section>

    </div>
  </div>
</div>


<!-- MODAL para editar -->
<div class="modal-overlay" id="editModal" style="display:none;">
  <div class="modal">

    <div class="modal-header">
      <h2>Editar Registro</h2>
      <button onclick="closeEditModal()">✕</button>
    </div>

    <div class="modal-body">

      <input type="hidden" id="e_id" />

      <!-- PACIENTE -->
      <section class="modal-section">
        <h3>Paciente</h3>
        <div class="grid">
          <div>
            <label>Nome</label>
            <input id="e_nome" />
          </div>

          <div>
            <label>Local</label>
            <input id="e_local" />
          </div>

          <div>
            <label>Material Coletado</label>
            <input id="e_material" />
          </div>

          <div>
            <label>Microrganismo</label>
            <input id="e_micro" />
          </div>
        </div>
      </section>

      <!-- CLÍNICO -->
      <section class="modal-section">
        <h3>Dados Clínicos</h3>
        <div class="grid">
          <div>
            <label>Diagnóstico</label>
            <input id="e_diagnostico" />
          </div>

          <div>
            <label>Desfecho</label>
            <input id="e_desfecho" />
          </div>

          <div>
            <label>Notificação</label>
            <select id="e_notificacao">
              <option value="">—</option>
              <option value="SIM">SIM</option>
              <option value="NAO">NÃO</option>
            </select>
          </div>

          <div>
            <label>Diálise</label>
            <select id="e_dialise">
              <option value="">—</option>
              <option value="SIM">SIM</option>
              <option value="NAO">NÃO</option>
            </select>
          </div>
        </div>
      </section>

      <!-- DATAS -->
      <section class="modal-section">
        <h3>Datas</h3>
        <div class="grid">
          <div>
            <label>Data Admissão</label>
            <input type="date" id="e_admissao" />
          </div>

          <div>
            <label>Data Coleta</label>
            <input type="date" id="e_coleta" />
          </div>

          <div>
            <label>Data Encerramento</label>
            <input type="date" id="e_encerramento" />
          </div>

          <div>
            <label>Tempo de Coleta</label>
            <input type="number" id="e_tempo_coleta" />
          </div>
        </div>
      </section>

      <section class="modal-section">
        <h3>Antimicrobianos</h3>
        <div class="grid grid-3" id="editAntibioticos"></div>
      </section>


      <!-- OBS -->
      <section class="modal-section">
        <h3>Observações</h3>
        <textarea id="e_obs" rows="4"></textarea>
      </section>

      <!-- AÇÕES -->
      <div class="modal-actions">
        <button class="btn secondary" onclick="closeEditModal()">Cancelar</button>
        <button class="btn btn-primary" onclick="saveEdit()">Salvar</button>
      </div>

    </div>
  </div>
</div>






        <!-- SCRIPTS EM JS -->
        <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
        <script src="js/api.js"></script>
        
        <script src="js/export.js"></script>

        <!-- ordem correta -->
         <script src="js/util.js"></script>
        <script src="js/icons.js"></script>
        <script src="js/actions.js"></script>
        <script src="js/table.js"></script>
        <script src="js/registry.js"></script>
        <script src="js/upload.js"></script>

        <script>
             document.addEventListener("DOMContentLoaded", () => {
                loadRegistries();
            });
        </script>
       
    </body>
    </html>
